<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css?family=Bitter:400,500,600,700" rel="stylesheet">
        <link rel="stylesheet" href="css/main.css">
        <link rel="shortcut icon" type="image/png" href="img/favicon.png">
        <script>
            function ajax(src, callback){
                let xhr = new XMLHttpRequest();
                xhr.open('GET',src, true);
                xhr.send();
                xhr.onreadystatechange = function(){
                    if(xhr.readyState === 4 && xhr.status === 200){
                        let response = JSON.parse(xhr.responseText);
                        callback(response);
                    }
                };
            } 
            function render(data){
                let group = data.length;
                let row = Object.keys(data[0]).length;
                let cols = 2;
                let table = document.createElement("table");
                for(let g = 0 ; g < group; g++){
                    for (let r = 0; r < row; r++) {
                        let row = document.createElement("tr");
                        table.appendChild(row);
                        let key = document.createElement("td");
                        key.innerHTML=`<span style="color:grey;font-size:20px;margin:20px">${Object.keys(data[g])[r]}</span>`;
                        let value = document.createElement("td");
                        value.innerHTML=`<span style="color:#222;font-size:18px;margin:20px">${Object.values(data[g])[r]}</span>`
                        row.appendChild(key);
                        row.appendChild(value);
                    }
                }
                document.body.appendChild(table);
            }
            ajax("https://cwpeng.github.io/live-records-samples/data/products.json", function(response){render(response)});
        </script>
        <title>Zeke Lin's practice website</title>
    </head>
    <body>
    </body>
</html>
